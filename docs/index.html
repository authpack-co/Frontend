<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuthPack Docs</title>
    <link rel="shortcut icon" href="/src/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./assets/css/docs.css">
    <link rel="stylesheet" href="./assets/css/content.css">
</head>

<body>
    <header>
        <a href="/" class="logo">AuthPack</a>
        <!-- <div class="logo">AuthPack</div> -->
        <nav>
            <!-- <a href="#pricing">Pricing</a>
            <a href="#features">Features</a>
            <a href="#enterprise">Enterprise</a>
            <a href="#docs">Docs</a> -->
        </nav>
        <div class="buttons">
            <!-- <button class="btn btn-signin">Sign in</button> -->
            <a href="/docs/">Docs</a>
            <button class="btn btn-download">Download</button>
        </div>
    </header>

    <div class="main-wrapper">
        <div class="sidebar">
            <h2>Docs</h2>
            <ul class="nav">
                <li><a href="/docs/getting-started" data-slug="getting-started">Getting Started</a></li>
                <li><a href="/docs/install" data-slug="install">Instalação</a></li>
                <li><a href="/docs/faq" data-slug="faq">FAQ</a></li>
            </ul>
        </div>
        <div class="content" id="doc-content">
            <!-- Conteúdo carregado dinamicamente -->
        </div>
    </div>

    <script>
        const contentEl = document.getElementById("doc-content");
        const navLinks = document.querySelectorAll(".nav a");

        function setActive(slug) {
            navLinks.forEach(link => {
                link.classList.remove("active");
                if (link.dataset.slug === slug) link.classList.add("active");
            });
        }

        async function loadContent(slug, push = true) {
            try {
                const res = await fetch(`/docs/content/${slug}.html`);
                if (!res.ok) throw new Error("Conteúdo não encontrado");
                const html = await res.text();
                contentEl.innerHTML = html;
                setActive(slug);
                if (push) {
                    location.hash = `/${slug}`;
                }
            } catch (err) {
                contentEl.innerHTML = `<h1>404</h1><p>Conteúdo não encontrado.</p>`;
            }
        }

        navLinks.forEach(link => {
            link.addEventListener("click", e => {
                e.preventDefault();
                const slug = link.dataset.slug;
                loadContent(slug);
            });
        });

        // Detecta alterações no hash (voltar/avançar ou usuário editando na barra)
        window.addEventListener("hashchange", () => {
            const slug = location.hash.split("/").pop() || "getting-started";
            loadContent(slug, false);
        });

        // Detecta slug inicial pelo hash
        const initialSlug = location.hash.split("/").pop() || "getting-started";
        loadContent(initialSlug, false);
    </script>

</body>

</html>